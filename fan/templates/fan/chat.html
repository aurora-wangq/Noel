{% extends "fan/_base.html" %}

{% block title %}NChat{% endblock %}

{% block head %}
<script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>
<link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">
<link href="/static/css/chat.css" rel="stylesheet">
{% endblock %}

{% block content %}
<input class="mdui-hidden" id="input-username" value="{{user.owner.username}}">
<input class="mdui-hidden" id="input-nickname" value="{{user.nike_name}}">
<input class="mdui-hidden" id="input-useravatar" value="{{user.img}}">
<input class="mdui-hidden" id="input-usertitle" value="{{user.title}}">
<input class="mdui-hidden" id="input-usertitle_level" value="{{user.title_level}}">
<div class="mdui-container">

    <div class="mdui-row">
        <div class="mdui-col-md-10 mdui-col-offset-md-1 mdui-col-xs-12">
            <div class="message-container mdui-container" id="message"></div>
        </div>
    </div>

    <div class="mdui-row">
        <div class="mdui-col-md-10 mdui-col-offset-md-1 mdui-col-xs-12">
            <div id="quill-toolbar">
                <span class="ql-formats">
                    <select class="ql-size">
                        <option value="small"></option>
                        <option selected></option>
                        <option value="large"></option>
                        <option value="huge"></option>
                    </select>
                </span>
                <span class="ql-formats">
                    <button class="ql-bold"></button>
                    <button class="ql-italic"></button>
                    <button class="ql-underline"></button>
                    <button class="ql-strike"></button>
                </span>
                <span class="ql-formats">
                    <button class="ql-image"></button>
                    <button class="ql-link"></button>
                    <button class="mention-button">
                        <i class="fa-solid fa-at"></i>
                    </button>
                </span>
            </div>
            <div class="editor"></div>
        </div>
    </div>
    <div class="mdui-row">
        <div class="mdui-col-offset-md-1">
            <label class="mdui-checkbox mdui-center">
                <input type="checkbox" id="autoscroll-checkbox" checked />
                <i class="mdui-checkbox-icon" style="left: 8px;"></i>
                自动滚动
            </label>
        </div>
    </div>

    <br />

    <div class="mdui-row">
        <div class="mdui-center">
            <button class="mdui-btn mdui-ripple mdui-center" id="send-button" onclick="send()"
                mdui-tooltip="{content: 'Ctrl+Enter也可发送', delay: 300}">
                <i class="mdui-icon fa-solid fa-paper-plane"></i> 发送
            </button>
        </div>
    </div>
</div>

<script src="/static/js/chat.js"></script>
{% endblock %}